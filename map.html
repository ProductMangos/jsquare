<header>
    <h1 class="page-title">MAP</h1>
    <span>- base of operations</span>
</header>
<div class="section">
    <div class="menu">
        <div class="sidebar-container">
            <div class="sidebar-long"></div>
            <div class="sidebar-short-long"></div>
        </div>
        <aside>
            <ul>
                <a><li style="width: 500px" class="map-li selected">
                    <div class="blank-icon"></div>
                    <h2>Harrisburg</h2>
                </li></a>
            </ul>
            <ul style="margin: 20px 0">
                <a><li style="width: 500px" class="map-li">
                    <div class="blank-icon"></div>
                    <h2>Lancaster</h2>
                </li></a>
            </ul>
        </aside>
    </div>

    <map>
        <div id="map" style="width: 800px; height: 600px"></div>
    </map>
</div>
<script>
    var map = new maplibregl.Map({
        container: 'map',
        center: [-76.88699, 40.25999],
        zoom: 15,
        interactive: true,
        pitch: 60
    });


    fetch("https://api.maptiler.com/maps/1bffc8ab-95e3-4be3-beb5-b113bb2fa8a3/style.json?key=wmtMLpHMfnbRsiCDzdNB")
    .then(response => response.json())
    .then(data => {
        map.setStyle(data);});


        let mapli = document.querySelectorAll('.map-li');
        mapli.forEach((li) => {
            li.addEventListener('click', () => {
                mapli.forEach((li) => {
                    li.classList.remove('selected');
                });
                li.classList.add('selected');

                const selectedLi = li.querySelector('h2').textContent;
                if (selectedLi === 'Harrisburg') {
                    map.flyTo({
                        center: [-76.88699, 40.25999],
                    });
                } else if (selectedLi === 'Lancaster') {
                    map.flyTo({
                        center: [-76.30534938343772, 40.03820842982006],
                        zoom: 15
                    });
                }
            });
        });


</script>
